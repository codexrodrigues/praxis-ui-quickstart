/* ===== Paleta ajustável (troque as cores sem mexer na lógica) ===== */
/* Importante: em estilos de componente Angular (ViewEncapsulation Emulated),
   use :host para garantir que as CSS vars existam no escopo do componente. */
:host {
  --glow-a: 255 115 0;   /* coral/laranja */
  --glow-b: 139 92 246;  /* violeta */
  --glow-c: 16 185 129;  /* esmeralda */
  --bg-0: #0b0c10;       /* fundo principal */
  --bg-1: #111217;       /* fundo radial */
  --card-bg: 28 28 34;   /* rgba base do card */
}

/* ===== Shell geral ===== */
:host, .auth-shell {
  display: grid;
  place-items: center;
  min-height: 100vh;
  /* Fundo mais sóbrio, sem grandes radiais competindo com o halo */
  background: #0b0c10;
  overflow: hidden;
}

.auth-shell { position: relative; }

/* ===== Palco do glow (fica atrás do card) ===== */
/* Desligamos os glows de palco para focar em um halo colado ao card */
.glow-stage { display: none; }

/* Cada "glow" é ENORME (suaviza o gradiente) */
.glow {
  position: absolute;
  /* Halo mais concentrado próximo ao card */
  width: min(900px, 92vw);
  height: min(900px, 92vw);
  border-radius: 50%;
  filter: blur(160px);
  opacity: .65;
  mix-blend-mode: screen; /* soma luz sem estourar */
  transform: translateZ(0);
  will-change: transform, opacity, filter;
}

/* Três camadas levemente deslocadas para dar profundidade */
.glow-a {
  background:
    radial-gradient(circle at 50% 52%,
      rgb(var(--glow-a) / .55) 0%,
      rgb(var(--glow-a) / .30) 28%,
      rgb(var(--glow-a) / .14) 56%,
      transparent 78%);
  transform: translate(-10%, -6%) scale(1.02);
}

.glow-b {
  background:
    radial-gradient(circle at 52% 50%,
      rgb(var(--glow-b) / .50) 0%,
      rgb(var(--glow-b) / .28) 32%,
      rgb(var(--glow-b) / .12) 60%,
      transparent 82%);
  transform: translate(12%, -4%) scale(1.0);
}

.glow-c {
  background:
    radial-gradient(circle at 50% 60%,
      rgb(var(--glow-c) / .35) 0%,
      rgb(var(--glow-c) / .18) 30%,
      rgb(var(--glow-c) / .08) 58%,
      transparent 84%);
  transform: translate(0%, 12%) scale(0.96);
  opacity: .42;
}

/* Animação lentíssima para “respirar” (micro movimento) */
@keyframes breathe {
  from { transform: translateY(-1%) scale(0.99); opacity: .92; }
  to   { transform: translateY(1%)  scale(1.01); opacity: 1; }
}
.glow { animation: breathe 12s ease-in-out infinite alternate; }
.glow-a { animation-duration: 14s; }
.glow-b { animation-duration: 16s; }
.glow-c { animation-duration: 18s; }

/* ===== Responsivo: telas largas (2K/4K) ===== */
@media (min-width: 1920px) {
  .glow {
    width: min(1500px, 95vw);
    height: min(1500px, 95vw);
    filter: blur(240px);
  }
}

@media (min-width: 2560px) {
  .glow {
    width: min(1700px, 90vw);
    height: min(1700px, 90vw);
    filter: blur(260px);
  }
}

/* Telas muito pequenas: otimização mobile low-end */
@media (max-width: 360px) {
  .glow {
    width: 900px;
    height: 900px;
    filter: blur(180px);
  }
}

/* ===== Ruído (dithering) para matar banding ===== */
/* SVG inline leve, 4% de opacidade */
.noise {
  position: absolute;
  inset: -50%;
  opacity: .04;
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140'>\
<filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/></filter>\
<rect width='100%' height='100%' filter='url(%23n)' opacity='0.9'/></svg>");
  mix-blend-mode: overlay;
  pointer-events: none;
}

/* ===== Card ===== */
.auth-card {
  position: relative;
  width: min(520px, 92vw);
  background: rgb(28 28 34 / .90); /* mais sólido */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 12px 36px rgba(0,0,0,.45);
  filter: drop-shadow(0 0 28px rgba(139,92,246,.28));
  animation: slideIn .6s cubic-bezier(.2,.6,.2,1);
  color: #eaeaf1;
  z-index: 1;
}

/* Halo concentrado ancorado ao card (mais próximo do Firebase) */
.auth-card::before {
  content: '';
  position: absolute;
  inset: -110px; /* tamanho do halo ao redor do card */
  border-radius: 24px;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(closest-side at 50% 50%,
      rgba(236,72,153,.36) 0%,         /* rosa vivo no centro */
      rgba(139,92,246,.32) 42%,        /* violeta na borda interna */
      rgba(139,92,246,.18) 60%,
      rgba(255,115,0,.20) 72%,         /* um toque coral nas extremidades */
      transparent 84%);
  filter: blur(70px);
}

/* Breadcrumb simples acima do card (como no mock) */
.crumb {
  position: absolute;
  left: 50%;
  transform: translate(-50%, calc(-50% - 12px));
  top: 50%;
  width: min(520px, 92vw);
  color: rgba(255,255,255,.60);
  font-size: 12px;
}

@keyframes slideIn {
  from { transform: translateY(24px); opacity: 0; }
  to   { transform: translateY(0);    opacity: 1; }
}

/* Material tweak: inputs/botões em tema dark */
mat-form-field, input, .mat-mdc-button-base { color: #eaeaf1; }
/* Aparência filled (cores suaves) */
mat-form-field.mat-mdc-form-field {
  --mdc-filled-text-field-container-color: rgba(255,255,255,.04);
  --mdc-filled-text-field-focus-active-indicator-color: #8b5cf6;
  --mdc-filled-text-field-active-indicator-color: rgba(255,255,255,.10);
}
.mat-mdc-text-field-wrapper { border-radius: 10px !important; }
.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after {
  border-bottom-color: #8b5cf6;
}
/* Força o visual filled do MDC em tema escuro */
.mdc-text-field--filled:not(.mdc-text-field--disabled) {
  background-color: rgba(255,255,255,.05) !important;
}
.mdc-text-field--filled .mdc-line-ripple::before {
  border-bottom-color: rgba(255,255,255,.10) !important;
}
.mdc-text-field--filled .mdc-line-ripple::after {
  border-bottom-color: #8b5cf6 !important;
}
button[mat-flat-button] {
  /* gradiente botões */
  background: linear-gradient(90deg, #ec4899, #8b5cf6);
  color: #fff;
  transition: transform .12s ease, box-shadow .3s ease;
}
button[mat-flat-button]:hover { transform: translateY(-1px); box-shadow: 0 0 16px rgba(139,92,246,.45); }

/* Layout do formulário (mantém usabilidade) */
.form { display: grid; gap: 12px; }
.actions { display: flex; justify-content: flex-end; }
.hint { opacity: .7; font-size: 12px; }
.error { color: #ff7b7b; }
